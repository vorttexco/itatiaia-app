<manifest xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:tools="http://schemas.android.com/tools">

  <!-- Permissões -->
  <uses-permission android:name="android.permission.INTERNET" />
  <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
  <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
  <uses-permission android:name="android.permission.WAKE_LOCK" />
  <uses-permission android:name="android.permission.FOREGROUND_SERVICE_MEDIA_PLAYBACK" />

  <!-- Features -->
  <uses-feature
    android:name="android.hardware.type.automotive"
    android:required="true" />
  <uses-feature
    android:name="android.software.car.templates_host"
    android:required="true" />

  <!-- Aplicação -->
  <application
    android:label="@string/itatiaia"
    android:name="${applicationName}"
    android:icon="@mipmap/ic_launcher"
    android:usesCleartextTraffic="true"
    tools:targetApi="tiramisu">

    <!-- Meta-data -->
    <meta-data
      android:name="com.onesignal.messaging.default_notification_icon"
      android:resource="@drawable/ic_stat_onesignal_default" />
    <meta-data
      android:name="com.onesignal.messaging.default_notification_color"
      android:resource="@color/primaryColor" />
    <meta-data
      android:name="com.google.android.gms.car.application"
      android:resource="@xml/automotive_app_desc" />
    <meta-data
      android:name="flutterEmbedding"
      android:value="2" />

    <!-- Atividade -->
    <activity
      android:name="com.ryanheise.audioservice.AudioServiceActivity"
      android:exported="true"
      android:launchMode="singleTop"
      android:taskAffinity=""
      android:theme="@style/LaunchTheme"
      android:configChanges="orientation|keyboardHidden|keyboard|screenSize|smallestScreenSize|locale|layoutDirection|fontScale|screenLayout|density|uiMode"
      android:hardwareAccelerated="true"
      android:windowSoftInputMode="adjustResize">
      <meta-data
        android:name="io.flutter.embedding.android.NormalTheme"
        android:resource="@style/NormalTheme" />
      <intent-filter>
        <action android:name="android.intent.action.MAIN" />
        <category android:name="android.intent.category.LAUNCHER" />
      </intent-filter>
    </activity>

    <!-- Serviços -->
    <service
      android:name="com.ryanheise.audioservice.AudioService"
      android:foregroundServiceType="mediaPlayback"
      android:exported="true"
      tools:ignore="Instantiatable">
      <intent-filter>
        <action android:name="android.media.browse.MediaBrowserService" />
      </intent-filter>
    </service>
    <service
      android:name=".FlutterCarAppService"
      android:exported="true">
      <intent-filter>
        <action android:name="androidx.car.app.CarAppService" />
        <category android:name="androidx.car.app.category.IOT" />
      </intent-filter>
    </service>

    <!-- Receptores -->
    <receiver
      android:name="com.ryanheise.audioservice.MediaButtonReceiver"
      android:exported="true"
      tools:ignore="Instantiatable">
      <intent-filter>
        <action android:name="android.intent.action.MEDIA_BUTTON" />
      </intent-filter>
    </receiver>

  </application>

  <!-- Queries -->
  <queries>
    <intent>
      <action android:name="android.intent.action.PROCESS_TEXT" />
      <data android:mimeType="text/plain" />
    </intent>
  </queries>
</manifest>